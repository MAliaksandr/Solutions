%YAML 1.1
--- 
StructureVersion: "1.0"
Properties: 
  RUID: 147697030_71168484
  Name: "GS.Санаторий.МУ.ИБ.Формы"
  Caption: "GS.Санаторий.МУ.ИБ.Формы"
  Version: "1.0.0.23"
  Optional: False
  Internal: True
  MD5: F3038696727BDDC2B0F30E0436E5CBF3
Uses: 
  - "147697029_71168484 GS.Санаторий.МУ.ИБ.Документы"
Objects: 
  - 
    Properties: 
      Class: "TgdcStorageFolder"
      RUID: 147182323_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
      HeadObject: 147182325_1979158522
    Fields: 
      PARENT: "147015466_1522056380 GLOBAL\\NewForm"
      NAME: "usrf_san_search_medhistories"
      CURR_DATA: ~
      DATA_TYPE: "F"
      DATETIME_DATA: ~
      INT_DATA: ~
      STR_DATA: ~
      EDITIONDATE: 2012-10-30T12:39:27+03:00
      BLOB_DATA: ~
  - 
    Properties: 
      Class: "TgdcStorageValue"
      RUID: 147182325_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
    Fields: 
      PARENT: "147182323_1979158522 GLOBAL\\NewForm\\usrf_san_search_medhistories"
      NAME: "Class"
      CURR_DATA: ~
      DATA_TYPE: "S"
      DATETIME_DATA: ~
      INT_DATA: ~
      STR_DATA: "TgdcCreateableForm"
      EDITIONDATE: 2012-10-30T12:39:27+03:00
      BLOB_DATA: ~
  - 
    Properties: 
      Class: "TgdcStorageValue"
      RUID: 147182324_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
    Fields: 
      PARENT: "147182323_1979158522 GLOBAL\\NewForm\\usrf_san_search_medhistories"
      NAME: "dfm"
      CURR_DATA: ~
      DATA_TYPE: "B"
      DATETIME_DATA: ~
      INT_DATA: ~
      STR_DATA: ~
      EDITIONDATE: 2017-11-08T13:14:23+03:00
      BLOB_DATA: | 
        object usrf_san_search_medhistories: TgdcCreateableForm
          Tag = 0
          Left = 472
          Top = 110
          Cursor = crDefault
          Hint = ''
          HelpContext = 0
          HorzScrollBar.ButtonSize = 0
          HorzScrollBar.Color = clBtnHighlight
          HorzScrollBar.Increment = 8
          HorzScrollBar.Margin = 0
          HorzScrollBar.ParentColor = True
          HorzScrollBar.Position = 0
          HorzScrollBar.Range = 0
          HorzScrollBar.Smooth = False
          HorzScrollBar.Size = 0
          HorzScrollBar.Style = ssRegular
          HorzScrollBar.ThumbSize = 0
          HorzScrollBar.Tracking = False
          HorzScrollBar.Visible = True
          VertScrollBar.ButtonSize = 0
          VertScrollBar.Color = clBtnHighlight
          VertScrollBar.Increment = 8
          VertScrollBar.Margin = 0
          VertScrollBar.ParentColor = True
          VertScrollBar.Position = 0
          VertScrollBar.Range = 0
          VertScrollBar.Smooth = False
          VertScrollBar.Size = 0
          VertScrollBar.Style = ssRegular
          VertScrollBar.ThumbSize = 0
          VertScrollBar.Tracking = False
          VertScrollBar.Visible = True
          Action = nil
          ActiveControl = nil
          Align = alNone
          Anchors = [akLeft, akTop]
          AutoSize = False
          BorderIcons = [biSystemMenu, biMinimize, biMaximize]
          BorderStyle = bsDialog
          BorderWidth = 0
          Caption = 'Поиск истории болезни'
          ClientHeight = 407
          ClientWidth = 368
          Color = clBtnFace
          Constraints.MaxHeight = 0
          Constraints.MaxWidth = 0
          Constraints.MinHeight = 0
          Constraints.MinWidth = 0
          Ctl3D = True
          UseDockManager = False
          DefaultMonitor = dmActiveForm
          DockSite = False
          DragKind = dkDrag
          DragMode = dmManual
          Enabled = True
          ParentFont = False
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clWindowText
          Font.Height = -11
          Font.Name = 'MS Sans Serif'
          Font.Pitch = fpDefault
          Font.Style = []
          FormStyle = fsNormal
          HelpFile = ''
          KeyPreview = False
          Menu = nil
          OldCreateOrder = False
          ObjectMenuItem = nil
          ParentBiDiMode = True
          PopupMenu = nil
          Position = poDesigned
          PrintScale = poProportional
          Scaled = True
          Visible = False
          WindowState = wsNormal
          WindowMenu = nil
          ShowSpeedButton = False
          PixelsPerInch = 96
          TextHeight = 13
          object usrg_Panel1: TPanel
            Tag = 0
            Left = 0
            Top = 0
            Width = 368
            Height = 105
            Cursor = crDefault
            Hint = ''
            HelpContext = 0
            Align = alTop
            Alignment = taCenter
            Anchors = [akLeft, akTop, akRight]
            AutoSize = False
            BevelInner = bvNone
            BevelOuter = bvRaised
            BevelWidth = 1
            BorderWidth = 0
            BorderStyle = bsNone
            Caption = ''
            Color = clBtnFace
            Constraints.MaxHeight = 0
            Constraints.MaxWidth = 0
            Constraints.MinHeight = 0
            Constraints.MinWidth = 0
            UseDockManager = True
            DockSite = False
            DragCursor = crDrag
            DragKind = dkDrag
            DragMode = dmManual
            Enabled = True
            FullRepaint = True
            Locked = False
            ParentBiDiMode = True
            ParentColor = False
            ParentCtl3D = True
            ParentFont = True
            ParentShowHint = True
            PopupMenu = nil
            TabOrder = 0
            TabStop = False
            Visible = True
            object usrg_StaticText1: TStaticText
              Tag = 0
              Left = 12
              Top = 13
              Width = 340
              Height = 88
              Cursor = crDefault
              Hint = ''
              HelpContext = 0
              Align = alNone
              Alignment = taLeftJustify
              Anchors = [akLeft, akTop]
              AutoSize = False
              BorderStyle = sbsNone
              Caption = 
                'Внимание! Факт поиска данных будет зафиксирован в журнале истори' +
                'й болезни. Для продолжения введите данные и нажмите ОК.'
              Constraints.MaxHeight = 0
              Constraints.MaxWidth = 0
              Constraints.MinHeight = 0
              Constraints.MinWidth = 0
              DragCursor = crDrag
              DragKind = dkDrag
              DragMode = dmManual
              Enabled = True
              FocusControl = nil
              Font.Charset = DEFAULT_CHARSET
              Font.Color = clWindowText
              Font.Height = -16
              Font.Name = 'MS Sans Serif'
              Font.Pitch = fpDefault
              Font.Style = [fsBold]
              ParentBiDiMode = True
              ParentColor = True
              ParentFont = False
              ParentShowHint = True
              PopupMenu = nil
              ShowAccelChar = True
              TabOrder = 0
              TabStop = False
              Visible = True
            end
          end
          object usrg_Panel2: TPanel
            Tag = 0
            Left = 0
            Top = 105
            Width = 368
            Height = 261
            Cursor = crDefault
            Hint = ''
            HelpContext = 0
            Align = alClient
            Alignment = taCenter
            Anchors = [akLeft, akTop, akRight, akBottom]
            AutoSize = False
            BevelInner = bvNone
            BevelOuter = bvRaised
            BevelWidth = 1
            BorderWidth = 0
            BorderStyle = bsNone
            Caption = ''
            Color = clBtnFace
            Constraints.MaxHeight = 0
            Constraints.MaxWidth = 0
            Constraints.MinHeight = 0
            Constraints.MinWidth = 0
            UseDockManager = True
            DockSite = False
            DragCursor = crDrag
            DragKind = dkDrag
            DragMode = dmManual
            Enabled = True
            FullRepaint = True
            Locked = False
            ParentBiDiMode = True
            ParentColor = False
            ParentCtl3D = True
            ParentFont = True
            ParentShowHint = True
            PopupMenu = nil
            TabOrder = 2
            TabStop = False
            Visible = True
            object usrg_iblookupGuest: TgsIBLookupComboBox
              Tag = 0
              Left = 12
              Top = 42
              Width = 337
              Height = 21
              Cursor = crDefault
              HelpContext = 1
              TabStop = True
              Database = dmDatabase.ibdbGAdmin
              Transaction = dmDatabase.ibtrGenUniqueID
              DataSource = nil
              DataField = 'NAME'
              Fields = ''
              ListTable = 'gd_contact'
              ListField = 'name'
              KeyField = 'ID'
              SortOrder = soNone
              SortField = ''
              CheckUserRights = False
              Condition = 'contacttype=2'
              gdClassName = 'TgdcContact'
              SubType = ''
              ReadOnly = False
              StrictOnExit = True
              Distinct = True
              FullSearchOnExit = False
              ViewType = vtByClass
              Style = csDropDown
              Anchors = [akLeft, akTop]
              Color = 11141119
              Constraints.MaxHeight = 0
              Constraints.MaxWidth = 0
              Constraints.MinHeight = 0
              Constraints.MinWidth = 0
              DragCursor = crDrag
              DragKind = dkDrag
              DragMode = dmManual
              DropDownCount = 16
              Enabled = True
              ImeMode = imDontCare
              ImeName = ''
              ItemHeight = 13
              MaxLength = 0
              ParentBiDiMode = True
              ParentColor = False
              ParentCtl3D = True
              ParentFont = True
              ParentShowHint = False
              PopupMenu = nil
              ShowHint = True
              TabOrder = 0
              Visible = True
            end
            object usrg_StaticText2: TStaticText
              Tag = 0
              Left = 12
              Top = 19
              Width = 36
              Height = 17
              Cursor = crDefault
              Hint = ''
              HelpContext = 0
              Align = alNone
              Alignment = taLeftJustify
              Anchors = [akLeft, akTop]
              AutoSize = True
              BorderStyle = sbsNone
              Caption = 'Гость:'
              Constraints.MaxHeight = 0
              Constraints.MaxWidth = 0
              Constraints.MinHeight = 0
              Constraints.MinWidth = 0
              DragCursor = crDrag
              DragKind = dkDrag
              DragMode = dmManual
              Enabled = True
              FocusControl = nil
              ParentBiDiMode = True
              ParentColor = True
              ParentFont = True
              ParentShowHint = True
              PopupMenu = nil
              ShowAccelChar = True
              TabOrder = 1
              TabStop = False
              Visible = True
            end
            object usrg_StaticText3: TStaticText
              Tag = 0
              Left = 12
              Top = 83
              Width = 237
              Height = 17
              Cursor = crDefault
              Hint = ''
              HelpContext = 0
              Align = alNone
              Alignment = taLeftJustify
              Anchors = [akLeft, akTop]
              AutoSize = True
              BorderStyle = sbsNone
              Caption = 'Причина доступа к скрытой истории болезни:'
              Constraints.MaxHeight = 0
              Constraints.MaxWidth = 0
              Constraints.MinHeight = 0
              Constraints.MinWidth = 0
              DragCursor = crDrag
              DragKind = dkDrag
              DragMode = dmManual
              Enabled = True
              FocusControl = nil
              ParentBiDiMode = True
              ParentColor = True
              ParentFont = True
              ParentShowHint = True
              PopupMenu = nil
              ShowAccelChar = True
              TabOrder = 2
              TabStop = False
              Visible = True
            end
            object usrg_mDescription: TMemo
              Tag = 0
              Left = 12
              Top = 119
              Width = 337
              Height = 137
              Cursor = crDefault
              Hint = ''
              HelpContext = 0
              TabStop = True
              Align = alNone
              Alignment = taLeftJustify
              Anchors = [akLeft, akTop]
              BorderStyle = bsSingle
              Color = 11141119
              Constraints.MaxHeight = 0
              Constraints.MaxWidth = 0
              Constraints.MinHeight = 0
              Constraints.MinWidth = 0
              DragCursor = crDrag
              DragKind = dkDrag
              DragMode = dmManual
              Enabled = True
              HideSelection = True
              ImeMode = imDontCare
              ImeName = ''
              MaxLength = 0
              OEMConvert = False
              ParentBiDiMode = True
              ParentColor = False
              ParentCtl3D = True
              ParentFont = True
              ParentShowHint = True
              PopupMenu = nil
              ReadOnly = False
              ScrollBars = ssNone
              TabOrder = 3
              Visible = True
              WantReturns = True
              WantTabs = False
              WordWrap = True
            end
          end
          object usrg_Panel3: TPanel
            Tag = 0
            Left = 0
            Top = 366
            Width = 368
            Height = 41
            Cursor = crDefault
            Hint = ''
            HelpContext = 0
            Align = alBottom
            Alignment = taCenter
            Anchors = [akLeft, akRight, akBottom]
            AutoSize = False
            BevelInner = bvNone
            BevelOuter = bvRaised
            BevelWidth = 1
            BorderWidth = 0
            BorderStyle = bsNone
            Caption = ''
            Color = clBtnFace
            Constraints.MaxHeight = 0
            Constraints.MaxWidth = 0
            Constraints.MinHeight = 0
            Constraints.MinWidth = 0
            UseDockManager = True
            DockSite = False
            DragCursor = crDrag
            DragKind = dkDrag
            DragMode = dmManual
            Enabled = True
            FullRepaint = True
            Locked = False
            ParentBiDiMode = True
            ParentColor = False
            ParentCtl3D = True
            ParentFont = True
            ParentShowHint = True
            PopupMenu = nil
            TabOrder = 1
            TabStop = False
            Visible = True
            object usrg_btnOK: TButton
              Tag = 0
              Left = 179
              Top = 7
              Width = 75
              Height = 25
              Cursor = crDefault
              Hint = ''
              HelpContext = 0
              Action = nil
              Anchors = [akLeft, akTop]
              Cancel = False
              Caption = 'ОК'
              Constraints.MaxHeight = 0
              Constraints.MaxWidth = 0
              Constraints.MinHeight = 0
              Constraints.MinWidth = 0
              Default = False
              DragCursor = crDrag
              DragKind = dkDrag
              DragMode = dmManual
              Enabled = True
              ModalResult = 1
              ParentBiDiMode = True
              ParentFont = True
              ParentShowHint = True
              PopupMenu = nil
              TabOrder = 0
              TabStop = True
              Visible = True
            end
            object usrg_btnCancel: TButton
              Tag = 0
              Left = 274
              Top = 7
              Width = 75
              Height = 25
              Cursor = crDefault
              Hint = ''
              HelpContext = 0
              Action = nil
              Anchors = [akLeft, akTop]
              Cancel = False
              Caption = 'Отмена'
              Constraints.MaxHeight = 0
              Constraints.MaxWidth = 0
              Constraints.MinHeight = 0
              Constraints.MinWidth = 0
              Default = False
              DragCursor = crDrag
              DragKind = dkDrag
              DragMode = dmManual
              Enabled = True
              ModalResult = 2
              ParentBiDiMode = True
              ParentFont = True
              ParentShowHint = True
              PopupMenu = nil
              TabOrder = 1
              TabStop = True
              Visible = True
            end
          end
        end
        
  - 
    Properties: 
      Class: "TgdcStorageValue"
      RUID: 147182326_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
    Fields: 
      PARENT: "147182323_1979158522 GLOBAL\\NewForm\\usrf_san_search_medhistories"
      NAME: "InternalType"
      CURR_DATA: ~
      DATA_TYPE: "I"
      DATETIME_DATA: ~
      INT_DATA: 1
      STR_DATA: ~
      EDITIONDATE: 2012-10-30T12:39:27+03:00
      BLOB_DATA: ~
  - 
    Properties: 
      Class: "TgdcMacrosGroup"
      RUID: 147182321_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
      HeadObject: 147182370_1979158522
    Fields: 
      PARENT: ~
      NAME: "Локальные макросы"
      CLASSNAME: ""
      ISGLOBAL: 0
      OBJECTNAME: "usrf_san_search_medhistories"
      OBJECTPARENT: ~
      SUBTYPE: ""
      EDITIONDATE: 2012-10-30T12:37:02+03:00
      DESCRIPTION: ~
  - 
    Properties: 
      Class: "TgdcReportGroup"
      RUID: 147182322_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
      HeadObject: 147182370_1979158522
    Fields: 
      PARENT: ~
      NAME: "Отчеты(usrf_san_search_medhistories)"
      DESCRIPTION: ~
      USERGROUPNAME: "147182322_1979158522"
      EDITIONDATE: 2000-01-01T00:00:00+03:00
  - 
    Properties: 
      Class: "TgdcDelphiObject"
      RUID: 147182320_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
      HeadObject: 147182370_1979158522
    Fields: 
      PARENT: ~
      NAME: "usrf_san_search_medhistories"
      CLASSNAME: ""
      DESCRIPTION: ~
      MACROSGROUPKEY: "147182321_1979158522 Локальные макросы"
      OBJECTNAME: "usrf_san_search_medhistories"
      OBJECTTYPE: 0
      REPORTGROUPKEY: "147182322_1979158522 Отчеты(usrf_san_search_medhistories)"
      SUBTYPE: ""
      EDITIONDATE: 2012-10-30T12:37:02+03:00
  - 
    Properties: 
      Class: "TgdcFunction"
      RUID: 147182372_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
      HeadObject: 147182370_1979158522
    Fields: 
      NAME: "usrf_san_search_medhistoriesOnCloseQuery"
      COMMENT: ~
      EVENT: "ONCLOSEQUERY"
      FUNCTIONTYPE: ~
      GROUPNAME: ~
      INHERITEDRULE: 0
      LANGUAGE: "VBScript"
      LOCALNAME: ~
      MODIFYDATE: ~
      MODULE: "EVENTS"
      MODULECODE: "147182320_1979158522 usrf_san_search_medhistories"
      OBJECTNAME: "usrf_san_search_medhistories"
      OWNERNAME: ~
      PUBLICFUNCTION: 1
      SHORTCUT: ~
      USEDEBUGINFO: 0
      EDITIONDATE: 2012-10-30T18:28:21+03:00
      DISPLAYSCRIPT: | 
        USRF_SAN_SEARCH_MEDHISTORIESONCLOSEQUERY
        
      ENTEREDPARAMS: !!binary > 
        U0xQUlBSU1QGAAAAU0VOREVSBgAAAFNFTkRFUgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGTlNU
        UFJTVAgAAABDQU5DTE9TRQgAAABDQU5DTE9TRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGTlNU
        RkxQUg==
      SCRIPT: | 
        Option Explicit
        sub usrf_san_search_medhistoriesOnCloseQuery(ByVal Sender, ByRef CanClose)
          Dim ParamArr(1)
          Set   ParamArr(0) = Sender
          ParamArr(1) = CanClose
          call   Inherited(Sender, "OnCloseQuery", ParamArr)
          CanClose.Value = ParamArr(1)
          
          Dim iblookupcontactkey, mDescription
          Set iblookupcontactkey = Sender.GetComponent("usrg_iblookupGuest")
          Set mDescription = Sender.GetComponent("usrg_mDescription")
          Sender.Variables("ContactKey") = -1
          Sender.Variables("Description") = ""
          
          CanClose.Value = True
          
          if Sender.ModalResult = mrOK then
            Sender.Variables("ContactKey") = iblookupcontactkey.CurrentKeyInt
            Sender.Variables("Description") = mDescription.Text
            CanClose.Value = Sender.Variables("ContactKey") <> -1 and Sender.Variables("Description") <> ""
            if not CanClose.Value then
              call Application.MessageBox ("Все поля должны быть заполнены!","Незаполнены поля",vbExclamation)
            end if
          end if
        
        End sub
        
  - 
    Properties: 
      Class: "TgdcEvent"
      RUID: 147182370_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
    Fields: 
      DISABLE: 0
      EVENTNAME: "ONCLOSEQUERY"
      FUNCTIONKEY: "147182372_1979158522 usrf_san_search_medhistoriesOnCloseQuery"
      OBJECTKEY: "147182320_1979158522 usrf_san_search_medhistories"
      OBJECTNAME: "usrf_san_search_medhistories"
      PARENTNAME: ~
      EDITIONDATE: 2012-10-30T18:28:21+03:00
  - 
    Properties: 
      Class: "TgdcFunction"
      RUID: 147182334_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
      HeadObject: 147182332_1979158522
    Fields: 
      NAME: "usrf_san_search_medhistoriesOnCreate"
      COMMENT: ~
      EVENT: "ONCREATE"
      FUNCTIONTYPE: ~
      GROUPNAME: ~
      INHERITEDRULE: 0
      LANGUAGE: "VBScript"
      LOCALNAME: ~
      MODIFYDATE: ~
      MODULE: "EVENTS"
      MODULECODE: "147182320_1979158522 usrf_san_search_medhistories"
      OBJECTNAME: "usrf_san_search_medhistories"
      OWNERNAME: ~
      PUBLICFUNCTION: 1
      SHORTCUT: ~
      USEDEBUGINFO: 0
      EDITIONDATE: 2012-10-30T16:56:02+03:00
      DISPLAYSCRIPT: | 
        USRF_SAN_SEARCH_MEDHISTORIESONCREATE
        
      ENTEREDPARAMS: !!binary > 
        U0xQUlBSU1QGAAAAU0VOREVSBgAAAFNFTkRFUgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGTlNU
        RkxQUg==
      SCRIPT: | 
        Option Explicit
        sub usrf_san_search_medhistoriesOnCreate(ByVal Sender)
          call   Inherited(Sender, "OnCreate", Array(Sender))
          
          call Sender.AddVariableItem("ContactKey")
          call Sender.AddVariableItem("Description")
        
        End sub
        
  - 
    Properties: 
      Class: "TgdcEvent"
      RUID: 147182332_1979158522
      AlwaysOverwrite: False
      DontRemove: False
      IncludeSiblings: False
    Fields: 
      DISABLE: 0
      EVENTNAME: "ONCREATE"
      FUNCTIONKEY: "147182334_1979158522 usrf_san_search_medhistoriesOnCreate"
      OBJECTKEY: "147182320_1979158522 usrf_san_search_medhistories"
      OBJECTNAME: "usrf_san_search_medhistories"
      PARENTNAME: ~
      EDITIONDATE: 2012-10-30T16:56:03+03:00